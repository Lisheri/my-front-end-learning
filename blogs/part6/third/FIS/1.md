---
title: FIS基本使用
date: 2021-05-04
tags:
 - FIS
categories: 
 - 前端工程化
---

# FIS

## FIS快速上手

FIS是百度的前端团队推出的一款构建系统, 最早在内部使用, 后来流行了一段时间, 但是后面还是越来越少了(之前没听过), 官方也很久没有更新过了。

FIS完全属于另外一个种类的构建系统了, 相比于Gulp和Grunt, 他的核心特点就是高度集成, 他把常见的构建任务和调试任务都集成在了内部, 开发者可以通过简单的配置文件就可以完成构建工作, 不需要像gulp或者grunt一样自己去定义一些任务, FIS中有些内置任务, 他会根据开发者的配置自动完成整个构建过程, 除此之外内部还配置了一款自动调试的web server, 可以很方便的调试构建结果

```shell
# fis3做了较大的修改, 因此换了一个包名
yarn global add fis3

```

### release任务

> release是FIS中提供的一个默认构建任务

```shell
# 进入一个项目后, 直接使用一个release这个任务
fis3 release
```

这个任务会将一个项目自动构建到一个临时目录中, 一般在用户文件夹。

但是我们可以使用一个-d去指定文件夹

```shell
fis3 release -d output
```

这样就会多出一个output文件夹，但是FIS并没有对资源做转换, 而是直接输出到文件夹中, 并且将相对路径转换成了绝对路径，实现`资源定位`

`资源定位`是FIS的一个核心特性, 作用就是将开发阶段的路径彻底和生产路径分离开

在以往的前后端统一的项目中, 经常会出现`生产环境下的路径并不是后端所需要的路径`这种情况, 上线之前后端开发人员还需要手动修改路径，使用FIS过后, 只需要在开发阶段使用相对路径开发即可, 打出生产包后会自动的将相对路径修改为绝对路径。

### 快速上手

1. 根路径下新建一个`fis-conf.js`, 在这个文件下有一个特有的全局对象, 就是`fis`
2. 可以通过`fis.match`方法为开发过程中匹配到的文件添加配置, 此处匹配到的就是`scss, js, png`等文件


```javaScript
// fis-conf.js
fis.match(`*.{js, scss, png}`, {
    // 这个表示将js, scss, png的输出路径修改到 release路径下的assets下的`$0(这个$0表示原始的结构, 是什么样就是什么样)`
    // 这样输出的资源文件都会放在assets这个路径下
    release: '/assets/$0'
})

```








