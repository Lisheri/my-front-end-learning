(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{627:function(s,t,a){"use strict";a.r(t);var n=a(5),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"前端规范化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前端规范化"}},[s._v("#")]),s._v(" 前端规范化")]),s._v(" "),a("p",[s._v("规范化是我们践行前端工程化中重要的一部分")]),s._v(" "),a("p",[s._v("问题:")]),s._v(" "),a("ul",[a("li",[s._v("为什么要有规范化标准(无规矩不成方圆)")]),s._v(" "),a("li",[s._v("哪里需要规范化标准")]),s._v(" "),a("li",[s._v("实施规范化的方法")])]),s._v(" "),a("h2",{attrs:{id:"为什么要有规范化的标准"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#为什么要有规范化的标准"}},[s._v("#")]),s._v(" 为什么要有规范化的标准")]),s._v(" "),a("ul",[a("li",[s._v("软件开发需要多人协同")]),s._v(" "),a("li",[s._v("不同开发者具有不同的编码习惯和喜好")]),s._v(" "),a("li",[s._v("不同喜好增加项目维护成本")]),s._v(" "),a("li",[s._v("每个项目或团队需要明确统一的标准")])]),s._v(" "),a("h2",{attrs:{id:"那里需要规范化标准"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#那里需要规范化标准"}},[s._v("#")]),s._v(" 那里需要规范化标准")]),s._v(" "),a("ul",[a("li",[s._v("代码、文档、甚至是提交日志")]),s._v(" "),a("li",[s._v("开发过程中人为编写的成果物")]),s._v(" "),a("li",[s._v("代码标准规范化最为重要")])]),s._v(" "),a("h2",{attrs:{id:"实施规范化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实施规范化"}},[s._v("#")]),s._v(" 实施规范化")]),s._v(" "),a("ul",[a("li",[s._v("编码前人为的标准约定")]),s._v(" "),a("li",[s._v("通过同居实现Lint(最初出现于C语言, 在编译前检查问题, 避免编译后出现不必要的问题, 所以后续类似的工具都叫做lint)")])]),s._v(" "),a("h2",{attrs:{id:"常见的规范化实现方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常见的规范化实现方式"}},[s._v("#")]),s._v(" 常见的规范化实现方式")]),s._v(" "),a("ul",[a("li",[s._v("ESLint工具使用")]),s._v(" "),a("li",[s._v("定制ESLint校验规则")]),s._v(" "),a("li",[s._v("ESLint对TypeScript的支持")]),s._v(" "),a("li",[s._v("ESLint结合自动化工具或者Webpack")]),s._v(" "),a("li",[s._v("基于ESlint的衍生工具")]),s._v(" "),a("li",[s._v("Stylelint工具的使用")])]),s._v(" "),a("h2",{attrs:{id:"eslint-基本介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#eslint-基本介绍"}},[s._v("#")]),s._v(" ESlint 基本介绍")]),s._v(" "),a("ul",[a("li",[s._v("最为主流的JS Lint工具，监测JS代码质量")]),s._v(" "),a("li",[s._v("ESLint很容易统一开发者的编码风格(并且可以找出代码中不合理的地方)")]),s._v(" "),a("li",[s._v("ESLint可以帮助开发者提升编码能力(因为他找出来的问题都是编码时不好的习惯, 久而久之, 就会主动去避免, 渐渐提升自己编码能力)")])]),s._v(" "),a("p",[s._v("学习ES Lint可以做到触类旁通, 以不变应万变")]),s._v(" "),a("h2",{attrs:{id:"eslint安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#eslint安装"}},[s._v("#")]),s._v(" ESLint安装")]),s._v(" "),a("h3",{attrs:{id:"步骤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#步骤"}},[s._v("#")]),s._v(" 步骤")]),s._v(" "),a("ul",[a("li",[s._v("初始化项目")]),s._v(" "),a("li",[s._v("安装ESLint 模块为开发依赖")]),s._v(" "),a("li",[s._v("通过CLI命令验证安装结果")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 初始化项目")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" init\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" eslint\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h3",{attrs:{id:"快速上手"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#快速上手"}},[s._v("#")]),s._v(" 快速上手")]),s._v(" "),a("p",[s._v("监察步骤如下:")]),s._v(" "),a("ul",[a("li",[s._v("编写“问题”代码")]),s._v(" "),a("li",[s._v("使用 eslint 执行监测")]),s._v(" "),a("li",[s._v("完成 eslint 使用的配置")])]),s._v(" "),a("ol",[a("li",[s._v("来一段完全错误的代码")])]),s._v(" "),a("div",{staticClass:"language-javaScript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" foo"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("123")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("fn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"eslint"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("fn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("syy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" eslint --init\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" eslint + 路径"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("或者路径通配符"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("ol",[a("li",[s._v("在初始化eslint的时候, 给出了三个选项:")])]),s._v(" "),a("ul",[a("li",[s._v("只检查语法性错误")]),s._v(" "),a("li",[s._v("检查语法性错误, 同时找到问题代码")]),s._v(" "),a("li",[s._v("检查语法性错误, 找到问题代码, 并且校验代码格式")])]),s._v(" "),a("p",[s._v("建议使用第三种, 加强代码质量")]),s._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[s._v("然后继续给出模块化的选项:")])]),s._v(" "),a("ul",[a("li",[s._v("ES Modules")]),s._v(" "),a("li",[s._v("CommonJS")]),s._v(" "),a("li",[s._v("None of these")])]),s._v(" "),a("p",[s._v("也就是说如果选了ES Module, 就不能有require了")]),s._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[a("p",[s._v("下一个是是用什么框架")])]),s._v(" "),a("li",[a("p",[s._v("是否使用TypeScript")])]),s._v(" "),a("li",[a("p",[s._v("运行环境(node或者浏览器, 默认浏览器)")])]),s._v(" "),a("li",[a("p",[s._v("你想如何定义代码风格(主流，问答生成还是根据运行环境判断)")])]),s._v(" "),a("li",[a("p",[s._v("主流代码风格选项(Airbnb, Standard, Geogle) 中间是开源规范, 另外两个是两个公司的内部规范")])]),s._v(" "),a("li",[a("p",[s._v("配置文件存放方式")])]),s._v(" "),a("li",[a("p",[s._v("是否使用npm直接安装")])])]),s._v(" "),a("p",[s._v("ES Lint优先检查语法错误, 然后才是问题和风格, 语法有错误, 不会检查后者")]),s._v(" "),a("p",[s._v("同时校验代码格式可以直接使用 "),a("code",[s._v("yarn eslint --fix")]),s._v(", 他可以自动调整代码风格")]),s._v(" "),a("p",[s._v("不过应该自己养成这些良好的习惯")]),s._v(" "),a("h3",{attrs:{id:"eslint配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#eslint配置文件"}},[s._v("#")]),s._v(" ESLint配置文件")]),s._v(" "),a("p",[s._v("主要是在根目录下创建一个"),a("code",[s._v(".eslintrc.js")]),s._v("(当然也可以配置在package.json中)")]),s._v(" "),a("div",{staticClass:"language-javaScript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// commonJS")]),s._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    env"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 这里标识了当前代码的运行环境, 这里是浏览器, 运行ES标准是2020")]),s._v("\n        browser"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 标识代码运行在浏览器中， 使用浏览器的api不会提示错误")]),s._v("\n        es2020"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ES版本是2020, 可以使用?., Promise.allSettled等")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 继承共享的配置, 这里继承的就是standard配置")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 可以同时继承多个配置")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'standard'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    parserOptions"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 设置语法解释器的相关配置, 控制是否允许使用某一个版本的语法, 这里设置为11, 表示ES2020都支持")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 这里影响的只是语法检测并不是不能用(心够大可以无视他)")]),s._v("\n        ecmaVersion"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    rules"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 配置规则")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 使用时查看官网, 规则可以关闭, ESLint抛错会全屏拦截(开发环境)")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    globals"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 额外声明全局成员, 允许使用, 如jQuery")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"jQuery"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"readonly"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br")])]),a("p",[s._v("上面是一个简单的配置, 当然, 在初始化的时候继承了很多代码风格的配置, 他们是集成在ESLint底层代码中的, 比如配置的风格是"),a("code",[s._v("Standard")])]),s._v(" "),a("p",[s._v("加载风格的方式是找一个叫做"),a("code",[s._v("eslint-config-${name}")]),s._v("的模块, 比如这里就是"),a("code",[s._v("eslint-config-standard")])]),s._v(" "),a("p",[s._v("内部有一个"),a("code",[s._v("eslintrc.json")]),s._v("这个文件")]),s._v(" "),a("h4",{attrs:{id:"env对应以及说明表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#env对应以及说明表"}},[s._v("#")]),s._v(" env对应以及说明表")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("键名")]),s._v(" "),a("th",[s._v("说明")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("browser")]),s._v(" "),a("td",[s._v("浏览器环境中的全局变量")])]),s._v(" "),a("tr",[a("td",[s._v("node")]),s._v(" "),a("td",[s._v("Node.js全局变量和 Node.js 作用域")])]),s._v(" "),a("tr",[a("td",[s._v("commonjs")]),s._v(" "),a("td",[s._v("CommonJS 全局变量和 CommonJS 作用域（用于Browserify/WebPack 打包的只在浏览器中运行的代码）")])]),s._v(" "),a("tr",[a("td",[s._v("es6")]),s._v(" "),a("td",[s._v("启用除了 modules 之外所有的 ECMAScript6 特性(该选项会自动设置 ecmaVersion 解析器选项为 6)")])]),s._v(" "),a("tr",[a("td",[s._v("worker")]),s._v(" "),a("td",[s._v("Web Workers 全局变量")])]),s._v(" "),a("tr",[a("td",[s._v("amd")]),s._v(" "),a("td",[s._v("将 require() 和 define() 定义为像 amd 一样的全局变量")])]),s._v(" "),a("tr",[a("td",[s._v("mocha")]),s._v(" "),a("td",[s._v("添加所有的 Mocha 测试全局变量")])]),s._v(" "),a("tr",[a("td",[s._v("jasmine")]),s._v(" "),a("td",[s._v("添加所有的 Jasmine 版本 1.3 和 2.0 的测试全局变量")])]),s._v(" "),a("tr",[a("td",[s._v("jest")]),s._v(" "),a("td",[s._v("Jest 全局变量")])]),s._v(" "),a("tr",[a("td",[s._v("phantomjs")]),s._v(" "),a("td",[s._v("PhantomJS全局变量")])]),s._v(" "),a("tr",[a("td",[s._v("protractor")]),s._v(" "),a("td",[s._v("Protractor 全局变量")])]),s._v(" "),a("tr",[a("td",[s._v("qunit")]),s._v(" "),a("td",[s._v("Qunit全局变量")])]),s._v(" "),a("tr",[a("td",[s._v("jquery")]),s._v(" "),a("td",[s._v("JQuery 全局变量")])]),s._v(" "),a("tr",[a("td",[s._v("prototypejs")]),s._v(" "),a("td",[s._v("Prototype.js 全局变量")])]),s._v(" "),a("tr",[a("td",[s._v("shelljs")]),s._v(" "),a("td",[s._v("ShellJS全局变量")])]),s._v(" "),a("tr",[a("td",[s._v("meteor")]),s._v(" "),a("td",[s._v("Meteor 全局变量")])]),s._v(" "),a("tr",[a("td",[s._v("mongo")]),s._v(" "),a("td",[s._v("MongoDB 全局变量")])]),s._v(" "),a("tr",[a("td",[s._v("applescript")]),s._v(" "),a("td",[s._v("AppleScript 全局变量")])]),s._v(" "),a("tr",[a("td",[s._v("nashorn")]),s._v(" "),a("td",[s._v("Java 8 Nashorn 全局变量")])]),s._v(" "),a("tr",[a("td",[s._v("serviceworker")]),s._v(" "),a("td",[s._v("Service Worker全局变量")])]),s._v(" "),a("tr",[a("td",[s._v("atomtest")]),s._v(" "),a("td",[s._v("Atom 测试全局变量")])]),s._v(" "),a("tr",[a("td",[s._v("embertest")]),s._v(" "),a("td",[s._v("Ember 测试全局变量")])]),s._v(" "),a("tr",[a("td",[s._v("webextensions")]),s._v(" "),a("td",[s._v("WebExtensions全局变量")])]),s._v(" "),a("tr",[a("td",[s._v("greasemonkey")]),s._v(" "),a("td",[s._v("GreaseMonkey全局变量")])])])]),s._v(" "),a("p",[s._v("当然, 上面的环境并不是互斥的, 可以同时开启多个环境, 比如可以同时设置"),a("code",[s._v("browser: true, node: true")])]),s._v(" "),a("h3",{attrs:{id:"eslint-配置注释"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#eslint-配置注释"}},[s._v("#")]),s._v(" ESLint 配置注释")]),s._v(" "),a("p",[s._v("就是将配置通过注释的方式写在js文件中, 进行代码校验")]),s._v(" "),a("p",[s._v("主要是代码编写过程中, 难免会遇到违反配置的情况, 这种情况下, 不应该因为这两个点而推翻我们的校验配置")]),s._v(" "),a("p",[s._v("比如说有如下一个规则: "),a("code",[s._v("no-template-curly-in-string")]),s._v("(不允许在字符串内部使用"),a("code",[s._v("${}")]),s._v("占位符)")]),s._v(" "),a("p",[s._v("只需要添加注释"),a("code",[s._v("eslint-disable-line")]),s._v(", 就可以避开")]),s._v(" "),a("div",{staticClass:"language-javaScript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" str1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"${name} is a coder"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// eslint-disable-line ")]),s._v("\n\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("str1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("但是这样操作, 一行中有其他的问题, 就都不会被检测了, 因此这种方式不好")]),s._v(" "),a("p",[s._v("更好的方式是, 在后面再加上一个"),a("code",[s._v("规则名称")])]),s._v(" "),a("div",{staticClass:"language-javaScript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" str1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"${name} is a coder"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// eslint-disable-line no-template-curly-in-string")]),s._v("\n\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("str1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"eslint-结合自动化工具使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#eslint-结合自动化工具使用"}},[s._v("#")]),s._v(" ESLint 结合自动化工具使用")]),s._v(" "),a("p",[s._v("将ESLint集成到自动化构建工具中, 有以下好处:")]),s._v(" "),a("ul",[a("li",[s._v("集成之后, ESLint 一定会工作")]),s._v(" "),a("li",[s._v("与项目统一, 管理更加方便")])]),s._v(" "),a("h4",{attrs:{id:"步骤-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#步骤-2"}},[s._v("#")]),s._v(" 步骤")]),s._v(" "),a("p",[s._v("直接使用之前的"),a("code",[s._v("gulp项目")]),s._v("进行操作")]),s._v(" "),a("ul",[a("li",[s._v("安装 "),a("code",[s._v("eslint")]),s._v("模块")]),s._v(" "),a("li",[s._v("安装 "),a("code",[s._v("gulp-eslint")]),s._v("模块")])]),s._v(" "),a("p",[s._v("其实就是在"),a("code",[s._v("script")]),s._v("这个任务中, babel之前, 先校验一遍代码")]),s._v(" "),a("p",[s._v("当然这一切的基础还是需要一个"),a("code",[s._v("eslintrc.js")]),s._v("配置文件")]),s._v(" "),a("div",{staticClass:"language-javaScript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("script")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("src")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"src/assets/scripts/*.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" base"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"src"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("pipe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("plugins"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("eslint")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("pipe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("plugins"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("eslint")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 打印出错误信息")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("pipe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("plugins"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("eslint")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("failAfterError")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 如果有报错直接终止")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("pipe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("plugins"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("babel")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" presets"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"@babel/preset-env"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("pipe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("dest")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"temp"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("pipe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("bs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("reload")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" stream"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h3",{attrs:{id:"eslint-结合-webpack使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#eslint-结合-webpack使用"}},[s._v("#")]),s._v(" ESLint 结合 Webpack使用")]),s._v(" "),a("p",[s._v("Webpack集成 ESLint并不是通过plugins完成的, 而是通过一个loader的形式集成到webpack当中")]),s._v(" "),a("p",[s._v("首先需要在一个webpack项目基础上来搞, 然后需要安装 "),a("code",[s._v("eslint")]),s._v("模块, 安装 "),a("code",[s._v("eslint-loader")]),s._v("模块, 初始化一个"),a("code",[s._v(".eslintrc.js")]),s._v("配置文件")]),s._v(" "),a("div",{staticClass:"language-javaScript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// webpack.config.js")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" HtmlWebpackPlugin "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"html-webpack-plugin"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    mode"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"production"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    entry"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./src/main.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    module"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        rules"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* {\n                test: /\\.js$/,\n                exclude: /node_modules/,\n                use: ['babel-loader', 'eslint-loader'], // 先试用eslint检查\n            }, */")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 也可以如下所示")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                test"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.js$")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                exclude"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("node_modules")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                use"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'babel-loader'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                test"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.js$")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                exclude"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("node_modules")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                use"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'eslint-loader'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                enforce"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'pre'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 表示先使用eslint检查js文件, 这个loader配置最先走")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                test"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[s._v("\\.css$")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[s._v("/")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                use"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'style-loader'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'css-loader'")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    plugins"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HtmlWebpackPlugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            template"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'src/index.html'")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br")])]),a("h3",{attrs:{id:"eslint结合webpack后续配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#eslint结合webpack后续配置"}},[s._v("#")]),s._v(" ESLint结合Webpack后续配置")]),s._v(" "),a("p",[s._v("ESLint校验React项目有一个问题, 在校验定义了但确没有使用的变量时, 会对React文件报错, 确实引入的React并没有使用到, 但是这是代码编译后必须使用的, 像这样的特殊情况, 就需要额外的插件进行处理")]),s._v(" "),a("p",[s._v("这里有一个插件叫做"),a("code",[s._v("eslint-plugin-react")])]),s._v(" "),a("p",[s._v("使用如下:")]),s._v(" "),a("div",{staticClass:"language-javaScript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// .eslintrc.js")]),s._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* plugins: [\n        'react'\n    ],\n    // 同时还需要配合如下规则\n    rules: {\n        'react/jsx-uses-react': 2, // 这样将不会校验\n        'react/jsx-uses-vars': 2, //这个是防止入口文件被校验没有使用\n    } */")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 也可以像下面一样直接继承react这个插件中的配置")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'standard'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'plugin:react/recommended'")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("h3",{attrs:{id:"现代化项目集成eslint"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#现代化项目集成eslint"}},[s._v("#")]),s._v(" 现代化项目集成ESLint")]),s._v(" "),a("blockquote",[a("p",[s._v("以vue-cli项目为实例")])]),s._v(" "),a("p",[s._v("直接使用vue-cli创建一个项目, eslint自动就集成进去了, 处在"),a("code",[s._v("@vue/cli-plugins-eslint")]),s._v("下面")]),s._v(" "),a("h3",{attrs:{id:"eslint-检查-typescript"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#eslint-检查-typescript"}},[s._v("#")]),s._v(" ESLint 检查 TypeScript")]),s._v(" "),a("p",[s._v("之前一直使用的都是tslint工具, 后来官方不再维护了, 转而建议我们使用eslint校验ts")]),s._v(" "),a("p",[s._v("初始化的时候选TypeScript为yes")]),s._v(" "),a("p",[s._v("会自动安装两个模块, 这是检查ts代码所必须的")]),s._v(" "),a("div",{staticClass:"language-javaScript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n    parser"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"@typescript-eslint/parser"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 语法解析器, 主要是因为ts有特殊语法, 需要解析")]),s._v("\n    plugins"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@typescript-eslint'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ts所需要使用的插件")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h3",{attrs:{id:"stylelint的认识"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stylelint的认识"}},[s._v("#")]),s._v(" Stylelint的认识")]),s._v(" "),a("p",[s._v("css代码的lint操作, 需要使用Stylelint工具")]),s._v(" "),a("ul",[a("li",[s._v("提供默认的代码检查规则")]),s._v(" "),a("li",[s._v("提供CLI工具，快速调用")]),s._v(" "),a("li",[s._v("通过插件支持sass， less，PostCss")]),s._v(" "),a("li",[s._v("支持Gulp或Webpack集成")])]),s._v(" "),a("p",[s._v("需要添加配置文件 ———— "),a("code",[s._v(".stylelintrc.js")])]),s._v(" "),a("div",{staticClass:"language-javaScript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"stylelint-config-standard"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 这里必须是完整的名称")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"stylelint-config-sass-guidelines"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 使用stylelint检查scss代码, less和PostCss类似")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h3",{attrs:{id:"prettier的使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#prettier的使用"}},[s._v("#")]),s._v(" Prettier的使用")]),s._v(" "),a("p",[s._v("Prettier是什么?")]),s._v(" "),a("p",[s._v("这是近两年来使用频率特别高的前端代码格式化工具, 他极其强大, 几乎可以完成前端代码所有文件的格式化工作")]),s._v(" "),a("p",[s._v("可以使用它来完成自动格式化, 或者针对markdown这样的文档也可以进行格式化操作")]),s._v(" "),a("p",[s._v("通过Prettier可以很方便的完成前端项目中的规范化操作")]),s._v(" "),a("p",[s._v("使用:")]),s._v(" "),a("p",[a("code",[s._v("yarn prettier ./xxx --write")])]),s._v(" "),a("p",[s._v("这样可以直接写入到目标文件")]),s._v(" "),a("h3",{attrs:{id:"git-hooks-介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#git-hooks-介绍"}},[s._v("#")]),s._v(" Git Hooks 介绍")]),s._v(" "),a("p",[s._v("代码提交至仓库之前未执行lint工作")]),s._v(" "),a("p",[s._v("本身使用lint工具的意义就是为了确保提交待代码仓库中的代码都是良好的, 格式也是符合规范的")]),s._v(" "),a("p",[s._v("通过 Git Hooks 在代码提交前强制lint")]),s._v(" "),a("h4",{attrs:{id:"git-hooks介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#git-hooks介绍"}},[s._v("#")]),s._v(" Git Hooks介绍")]),s._v(" "),a("ul",[a("li",[s._v("Git Hook也称之为 git 钩子, 每个钩子都对应一个任务(比如commit, 比如push)")]),s._v(" "),a("li",[s._v("通过 shell 脚本可以编写钩子任务触发时要具体执行的操作")])]),s._v(" "),a("p",[s._v("在.git文件中, 就有一个hooks文件夹, 内部我们需要关注的其实就是"),a("code",[s._v("pre-commit.sample")]),s._v("这个钩子所对应的任务")]),s._v(" "),a("p",[s._v("拷贝一个出来之后, 删除除第一行之外所有文件")]),s._v(" "),a("p",[s._v("第一行的"),a("code",[s._v("#!/bin/sh")]),s._v("代表了当前文件的运行环境")]),s._v(" "),a("p",[s._v("这样, 在git commit的时候, 就会触发这个"),a("code",[s._v("shell脚本")]),s._v("(Git Hooks)")]),s._v(" "),a("h3",{attrs:{id:"eslint结合-git-hooks"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#eslint结合-git-hooks"}},[s._v("#")]),s._v(" ESLint结合 Git Hooks")]),s._v(" "),a("p",[s._v("主要就是在代码提交之前, 强制进行lint操作")]),s._v(" "),a("p",[s._v("这里有一个现实问题, 就是很多前端开发者并不擅长使用shell脚本去编写一些功能")]),s._v(" "),a("p",[s._v("于是就有人开发了一个npm模块, 叫做"),a("code",[s._v("Husky")]),s._v(", 可以实现Git Hooks的使用需求")]),s._v(" "),a("p",[s._v("直接"),a("code",[s._v("yarn add husky --dev")])]),s._v(" "),a("p",[s._v("添加完该模块后, 需要在package.json中添加对应的配置")]),s._v(" "),a("p",[s._v("这里还需要配合lint-staged使用, 下面的json, 键名都是通配符, 键值都是需要执行的任务")]),s._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"husky"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"hooks"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"pre-commit"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"lint-staged"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"lint-staged"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"**/*.{ts,tsx}"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"prettier --write"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"eslint --fix"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git add"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"**/*.{css,scss}"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"stylelint --fix"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);