(window.webpackJsonp=window.webpackJsonp||[]).push([[117],{659:function(s,t,n){"use strict";n.r(t);var a=n(5),e=Object(a.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"vue初始化"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#vue初始化"}},[s._v("#")]),s._v(" Vue初始化")]),s._v(" "),n("h2",{attrs:{id:"vue源码运行时的小问题"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#vue源码运行时的小问题"}},[s._v("#")]),s._v(" Vue源码运行时的小问题")]),s._v(" "),n("h3",{attrs:{id:"js语法报错"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#js语法报错"}},[s._v("#")]),s._v(" js语法报错")]),s._v(" "),n("p",[s._v("在setting.json中将 "),n("code",[s._v("javascript.validate.enable")]),s._v("设置为false。")]),s._v(" "),n("p",[s._v("原因在于vscode是微软开发的, ts也是, vscode默认支持ts, 但是vscode不支持flow语法检查, 因此vue2.6源码疯狂报错(报错报的是类型只有在ts中支持s), 此时建议关闭。")]),s._v(" "),n("h3",{attrs:{id:"泛型后续不高亮显示"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#泛型后续不高亮显示"}},[s._v("#")]),s._v(" 泛型后续不高亮显示")]),s._v(" "),n("p",[s._v("需安装插件 "),n("code",[s._v("bebel javascript")])]),s._v(" "),n("p",[s._v("但是依然有一个问题无法解决, 那就是"),n("code",[s._v("代码链接")]),s._v("会失效(也就是无法快速跳转到定义处)")]),s._v(" "),n("h2",{attrs:{id:"vue静态成员初始化"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#vue静态成员初始化"}},[s._v("#")]),s._v(" Vue静态成员初始化")]),s._v(" "),n("p",[s._v("在"),n("code",[s._v("src/core/index.js")]),s._v("中调用了 "),n("code",[s._v("initGlobalAPI")]),s._v("这个方法中初始化了Vue的大多数静态成员")]),s._v(" "),n("p",[s._v("前面有过一段简单的讲解, 这里细说一下")]),s._v(" "),n("ol",[n("li",[s._v("首先第一段代码通过"),n("code",[s._v("Object.defineProperty(Vue, 'config', configDef)")]),s._v("初始化"),n("code",[s._v("Vue.config")]),s._v("静态成员\n"),n("ul",[n("li",[s._v("最上面的位置其实定义的是"),n("code",[s._v("Vue.config")]),s._v("的描述符, 通过"),n("code",[s._v("Object.defineProperty")]),s._v("来定义这个属性")]),s._v(" "),n("li",[n("code",[s._v("defineProperty")]),s._v("并不一定是用于定义响应式数据, 此时只不过是定义了一个属性")]),s._v(" "),n("li",[s._v("首先在属性描述符上有一个get方法, 直接就是返回当前静态成员"),n("code",[s._v("config")]),s._v("(这个"),n("code",[s._v("config")]),s._v("从"),n("code",[s._v("src/core/config.js")]),s._v("中引入)")]),s._v(" "),n("li",[s._v("其次如果是在开发环境的话, 会给这个对象增加一个set方法, 当我们直接给Vue.config赋值时, 就会触发set方法, 内部会给出一段警告, 告诉用户不要给Vue.config重新赋值, 但是可以在"),n("code",[s._v("Vue.config")]),s._v("下挂载对应的属性和方法")]),s._v(" "),n("li",[s._v("其实往"),n("code",[s._v("Vue.config")]),s._v("上挂载方法的地方很近, 就在"),n("code",[s._v("platforms/web/runtime/index")]),s._v("中, 我们像其中挂载了一些方法用于判断属性是否为关键属性。")]),s._v(" "),n("li",[s._v("具体实现如下:")])])])]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" configDef "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  configDef"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("get")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" config\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("process"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("env"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NODE_ENV")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!==")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'production'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    configDef"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("set")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("warn")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Do not replace the Vue.config object, set individual fields instead.'")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// * 初始化 Vue.config 对象")]),s._v("\n  Object"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("defineProperty")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Vue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'config'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" configDef"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("ol",{attrs:{start:"2"}},[n("li",[s._v("定义了"),n("code",[s._v("Vue.util")]),s._v(", 并且挂载了一些API\n"),n("ul",[n("li",[s._v("这些API是在文档中看不到的, 并且也不推荐使用")]),s._v(" "),n("li",[n("code",[s._v("Vue.util")]),s._v(": "),n("code",[s._v("warn/extend/Options/defineReactive")])])])]),s._v(" "),n("li",[s._v("定义了三个静态方法 "),n("code",[s._v("Vue.set")]),s._v("、 "),n("code",[s._v("Vue.delete")]),s._v("和"),n("code",[s._v("Vue.nextTick")]),s._v("(这几个方法等响应式分析完后在回过来看)")]),s._v(" "),n("li",[s._v("定义了"),n("code",[s._v("Vue.observable")]),s._v("静态方法, 内部调用了"),n("code",[s._v("observe")]),s._v("方法, 让入参对象变成一个响应式对象, 并返回这个响应式对象")]),s._v(" "),n("li",[s._v("初始化"),n("code",[s._v("Vue.options")]),s._v("对象, 并扩展, 主要有 "),n("code",[s._v("components/directives/filters")]),s._v(" "),n("ul",[n("li",[s._v("首先使用Object.create(null)创建了一个空对象, 通过"),n("code",[s._v("Object.create(null)")]),s._v("可以直接将当前对象的"),n("code",[s._v("__proto__")]),s._v("设置为null, 也就是一个完全的空对象, 没有任何的原型方法, 可以提高性能")]),s._v(" "),n("li",[s._v("遍历数组"),n("code",[s._v("ASSET_TYPES")]),s._v(", 内部有三个字符串成员, 分别为: "),n("code",[s._v("component/directive/filter")]),s._v(", 在"),n("code",[s._v("Vue.options")]),s._v("下通过"),n("code",[s._v("Object.create(null)")]),s._v("继续挂载了三个成员, 均初始化成了空对象, 也就是"),n("code",[s._v("Vue.options.components")]),s._v("、"),n("code",[s._v("Vue.options.directives")]),s._v("和"),n("code",[s._v("Vue.options.filters")]),s._v("。")]),s._v(" "),n("li",[s._v("作用是用于存储全局的"),n("code",[s._v("组件")]),s._v("/"),n("code",[s._v("指令")]),s._v("和"),n("code",[s._v("过滤器")]),s._v(", 也就是用户通过"),n("code",[s._v("Vue.component")]),s._v("、"),n("code",[s._v("Vue.directive")]),s._v("和"),n("code",[s._v("Vue.filter")]),s._v("注册的这些全局的组件、指令和过滤器都会存储到这三个对象中")])])]),s._v(" "),n("li",[s._v("在"),n("code",[s._v("Vue.options._base")]),s._v("上记录下了当前Vue的构造函数, 将来会用到")]),s._v(" "),n("li",[s._v("调用"),n("code",[s._v("extend(Vue.options.components, builtInComponents)")]),s._v("方法, 将"),n("code",[s._v("builtInComponents")]),s._v("下的成员全部拷贝给"),n("code",[s._v("Vue.options.components")]),s._v("(上面初始化的空对象)\n"),n("ul",[n("li",[n("code",[s._v("extend")]),s._v(" 方法的作用是将一个对象的所有属性拷贝到另一个对象中来")]),s._v(" "),n("li",[s._v("传入了两个参数, 一个是to, 一个是form, 他会遍历form的成员, 然后拷贝给to")]),s._v(" "),n("li",[s._v("其实就是个浅拷贝")]),s._v(" "),n("li",[s._v("通过"),n("code",[s._v("builtInComponents")]),s._v("的名字不难看出, 它其实是一个内置组件, 找到源头之后, 可以发现其实内部就是一个"),n("code",[s._v("KeepAlive")])]),s._v(" "),n("li",[s._v("所以这里其实就是注册一个全局内置组件, "),n("code",[s._v("keep-alive")])]),s._v(" "),n("li",[s._v("实现如下")])])])]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("extend")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("to"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" _from")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 遍历form对象, 将from中的成员全部以拷贝的方式写入到to对象下(直接拷贝, 如果是引用数据类型的成员, 索引将直接带过来, 也就是说from.xxx.a更新了, 那么to.xxx.a将同步更新)")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" key "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" _from"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    to"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("key"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" _from"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("key"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" to\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("ol",{attrs:{start:"8"}},[n("li",[s._v("调用"),n("code",[s._v("initUse(Vue)")]),s._v("注册了"),n("code",[s._v("Vue.use")]),s._v("方法, 用于注册插件")]),s._v(" "),n("li",[s._v("调用"),n("code",[s._v("initMixin(Vue)")]),s._v(", 注册 "),n("code",[s._v("Vue.mixin")]),s._v("方法 用于实现全局混入")]),s._v(" "),n("li",[s._v("调用"),n("code",[s._v("initExtend(Vue)")]),s._v("注册 "),n("code",[s._v("Vue.extend")]),s._v(" 基于传入的options返回一个组件的构造函数")]),s._v(" "),n("li",[s._v("调用"),n("code",[s._v("initAssetRegisters(Vue)")]),s._v("注册 "),n("code",[s._v("Vue.directive")]),s._v("、"),n("code",[s._v("Vue.component")]),s._v(" 和 "),n("code",[s._v("Vue.filter")]),s._v("方法")])]),s._v(" "),n("h3",{attrs:{id:"inituse"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#inituse"}},[s._v("#")]),s._v(" initUse")]),s._v(" "),n("ol",[n("li",[s._v("添加Vue.use静态成员")]),s._v(" "),n("li",[s._v("内部集成了一个用于记录所有已经注册过的组件的数组")]),s._v(" "),n("li",[s._v("如果组件被注册过则直接返回Vue构造函数")]),s._v(" "),n("li",[s._v("如果没有被注册, 则开始注册")]),s._v(" "),n("li",[s._v("首先修改参数为Vue构造函数+use方法接收的除插件以外的其余参数")]),s._v(" "),n("li",[s._v("然后调用插件的install方法或者插件本身(本身就是install方法)")]),s._v(" "),n("li",[s._v("其实install方法本身在定义上, 第一个参数就是Vue构造函数, 而后续参数就是通过Vue.use传入的")]),s._v(" "),n("li",[s._v("记录到installedPlugins数组中表示已注册")]),s._v(" "),n("li",[s._v("返回Vue构造函数(这里是为了链式调用, 如Vue.use(plugin1).use(plugin2))")])]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n * \n * @param {*} Vue Vue构造函数\n * 用于注册Vue.use静态方法\n */")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("initUse")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("Vue"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" GlobalAPI")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 增加一个静态成员use")]),s._v("\n  Vue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("use")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("plugin"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Function "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Object")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 定义一个常量, 这个常量代表安装的插件")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 此处的this指向Vue构造函数本身(普通函数, 谁调用指向谁, use方法被Vue构造函数调用, 直接指向Vue构造函数(类))")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 直接获取构造函数上的_installedPlugins, 如果有的话直接返回, 如果没有就定义出来并且初始化成一个空数组")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 这个属性就记录了安装的所有插件")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" installedPlugins "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("_installedPlugins "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("_installedPlugins "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 表示Vue上当前插件注册过, 直接返回")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("installedPlugins"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("indexOf")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("plugin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// additional parameters")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 注册插件过程")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 去除数组中的第一个元素(插件)")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" args "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("toArray")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("arguments"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 将Vue构造函数插入到第一个元素的位置")]),s._v("\n    args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("unshift")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ! 其实下面两个操作就是在做一件事情, 约束install方法的调用格式")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ! 插件的install方法或者插件本身就是install方法, 他们的第一个参数其实就是Vue构造函数, 而后续参数则是通过Vue.use接收到的除插件本身以外的其余参数")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 如果插件的install属性存在并且是一个function, 那么直接调用该插件的install方法, this指向当前插件, 参数第一个扩展为Vue构造函数")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("typeof")]),s._v(" plugin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("install "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'function'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      plugin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("apply")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("plugin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("typeof")]),s._v(" plugin "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'function'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 如果插件本身就是一个function, 那么直接调用, this指向null, 第一个参数扩展为Vue构造函数")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("plugin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("apply")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 将插件推送到数组中, 表示已经注册完成")]),s._v("\n    installedPlugins"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("push")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("plugin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 返回Vue构造函数, 便于链式调用")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br")])]),n("h3",{attrs:{id:"initmixin"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#initmixin"}},[s._v("#")]),s._v(" initMixin")]),s._v(" "),n("p",[s._v("用于注册一个mixin静态成员")]),s._v(" "),n("p",[s._v("该静态成员非常简单, 其实就是通过"),n("code",[s._v("mergeOptions")]),s._v("将入参(mixin)对象中的所有成员, 拷贝到"),n("code",[s._v("Vue.options")]),s._v("这个静态成员上")]),s._v(" "),n("p",[s._v("所以通过Vue.mixin注册的对象是一个全局对象(文档有提到)")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("initMixin")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("Vue"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" GlobalAPI")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  Vue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("mixin")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("mixin"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Object")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// * 可以看到mixin是用来合并options用的")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// * 这里的this是大的Vue, 也就是Vue这个构造函数的this")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// * 这个方法和组件在init时使用的方法一致，只是这样会将全局的mixin中的对象，合并到Vue.prototype.options中")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("options "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("mergeOptions")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mixin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("h3",{attrs:{id:"initextend"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#initextend"}},[s._v("#")]),s._v(" initExtend")]),s._v(" "),n("p",[s._v("内部实现最主要的就是注册一个"),n("code",[s._v("Vue.extend")]),s._v("方法")]),s._v(" "),n("p",[s._v("但是该方法比较复杂, 这里只看一下核心功能。")]),s._v(" "),n("ol",[n("li",[s._v("给Vue注册一个静态成员"),n("code",[s._v("extend")]),s._v(", 这个方法接收一个参数, 这个参数依然是options, 是一个选项, 也就是组件的选项, 是一个对象")]),s._v(" "),n("li",[s._v("若extendOptions则给默认值为一个空对象(包含原型方法)")]),s._v(" "),n("li",[s._v("缓存Vue构造函数, 赋值给Super")]),s._v(" "),n("li",[s._v("去除Vue.cid赋值给SuperId, 后续拉取缓存时会使用cid进行校验")]),s._v(" "),n("li",[s._v("判断缓存是否存在, 若存在则从缓存中加载组件")]),s._v(" "),n("li",[s._v("定义一个name, 查看组件是否存在name, 如果没有则取全局options上的name, 也就是Vue.options.name")]),s._v(" "),n("li",[s._v("开发环境校验上面的name变量")]),s._v(" "),n("li",[s._v("创建一个"),n("code",[s._v("VueComponent")]),s._v("构造函数, 赋值给"),n("code",[s._v("Sub")]),s._v(", 这是组件对应的构造函数, 内部调用了组件的"),n("code",[s._v("_init")]),s._v("方法")]),s._v(" "),n("li",[n("code",[s._v("Sub")]),s._v("原型继承Vue构造函数, 这里也说明了所有的子组件, 都是继承自Vue的")])]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 原型继承")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Sub")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("prototype "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Object"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("create")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Super")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Sub")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("constructor "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Sub\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("ol",{attrs:{start:"10"}},[n("li",[s._v("合并选项, 通过mergeOptions合并选线, 将入参的extendOptions和Vue.options(全局选项, 也是基础配置, 这也说明了所有子组件都包含全局的配置)合并")]),s._v(" "),n("li",[s._v("通过"),n("code",[s._v("initProps")]),s._v("和"),n("code",[s._v("initComputed")]),s._v("初始化子组件的Props和计算属性")]),s._v(" "),n("li",[s._v("将Vue构造函数上的一些静态成员, 拷贝到VueComponent(Sub, 子组件构造函数)这个构造函数上来")]),s._v(" "),n("li",[s._v("初始化子组件的extend、mixin和use方法, 直接拷贝的Vue构造函数上的")]),s._v(" "),n("li",[s._v("注册子组件的component, directive、filter等静态方法(直接拷贝, 这三个方法初始化自"),n("code",[s._v("initAssetRegisters")]),s._v(")")]),s._v(" "),n("li",[s._v("如果name存在, 将Sub构造函数记录到"),n("code",[s._v("Sub.options.components[name]")]),s._v("上")]),s._v(" "),n("li",[n("code",[s._v("Sub")]),s._v("用"),n("code",[s._v("superOptions")]),s._v("存储Vue.options(全局配置)")]),s._v(" "),n("li",[n("code",[s._v("Sub")]),s._v("用"),n("code",[s._v("extendOptions")]),s._v("存储Vue.extend调时的"),n("code",[s._v("extendOptions")])]),s._v(" "),n("li",[n("code",[s._v("Sub")]),s._v("用"),n("code",[s._v("sealedOptions")]),s._v("存储"),n("code",[s._v("Sub.options")])]),s._v(" "),n("li",[s._v("将VueComponent写入缓存, 键名为当前cid(自增前的cid, Vue.cid)(每次调用Vue.extend或者子组件的extend方法, cid都会自增一次, cid为闭包中的一个成员, 也是组件的唯一键)")]),s._v(" "),n("li",[s._v("最终返回VueComponent构造函数, 所以Vue.extend返回的就是组件的构造函数, 所以一般用在制作自定义组件时")])]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("initExtend")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("Vue"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" GlobalAPI")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v('/**\n   * Each instance constructor, including Vue, has a unique\n   * cid. This enables us to create wrapped "child\n   * constructors" for prototypal inheritance and cache them.\n   */')]),s._v("\n  Vue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cid "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" cid "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n   * Class inheritance\n   */")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// * extend 传入一个对象，返回是一个函数")]),s._v("\n  Vue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("extend")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("extendOptions"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Object")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Function "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    extendOptions "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" extendOptions "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// * extend被Vue构造函数调用, 因此此处的this指向Vue这个构造函数，因为extend是Vue的静态方法，并非原型上的方法")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" Super "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// * Vue的cid")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" SuperId "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Super"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cid\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// * 这里实际上是在extendOptions上增加了一个构造器_Ctor，初始化为一个空对象")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// * 实际上是做了一层缓存的优化, 从缓存中加载组件的构造函数")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ? 下一次再渲染当前component的时候，如果在Vue上已经存在过这个component，也就会有一个对应的cid存在，那么就会直接取出来，得到该component对应的VNode")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" cachedCtors "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" extendOptions"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("_Ctor "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("extendOptions"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("_Ctor "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("cachedCtors"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("SuperId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" cachedCtors"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("SuperId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// * 定义了一个name, 如果在传过来的对象上不存在这个name，则取Vue.options.name(全局options的name)")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" name "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" extendOptions"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" Super"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("process"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("env"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NODE_ENV")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!==")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'production'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// * 如果是开发环境则校验组件名称")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("validateComponentName")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// * 定义了一个组件构造函数")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("Sub")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("VueComponent")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("options")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// * 所以这里执行this._init时，就会执行Vue.prototype._init方法")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("_init")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// * 原型继承自Vue")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// * 改变了子组件构造函数的原型, 让它的原型指向了Vue.prototype")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Sub")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("prototype "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Object"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("create")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Super")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// * 将他原型上的constructor指回自己")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Sub")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("constructor "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Sub\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//! 以上是一个简单的原型链继承，由于此处super指向Vue，因此Sub完全继承了Vue原型上的所有东西")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ! 这里也说明了在Vue2.6中所有的组件都是继承自Vue构造函数")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// * cid自增")]),s._v("\n    Sub"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cid "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" cid"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// * 合并选项")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// * 通过mergeOptions合并选线, 将入参的extendOptions和Vue.options(全局选项, 也是基础配置, 这也说明了所有子组件都包含全局的配置)合并")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// * 局部注册组件，就会在此处合并选项")]),s._v("\n    Sub"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("options "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("mergeOptions")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n      Super"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      extendOptions\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// * 然后将super指向外层的Super，也就是Vue")]),s._v("\n    Sub"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'super'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Super\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// For props and computed properties, we define the proxy getters on")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// the Vue instances at extension time, on the extended prototype. This")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// avoids Object.defineProperty calls for each instance created.")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// * 以下两个步骤对Sub子构造函数自己的Props和Computed做了一次初始化")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Sub"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("props"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("initProps")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Sub"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Sub"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("computed"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("initComputed")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Sub"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// allow further extension/mixin/plugin usage")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// * 这里将全局(Vue)的静态方法复制给Sub")]),s._v("\n    Sub"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("extend "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Super"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("extend\n    Sub"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("mixin "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Super"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("mixin\n    Sub"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("use "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Super"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("use\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// create asset registers, so extended classes")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// can have their private assets too.")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// * 这里拷贝了component, directive和filter")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ASSET_TYPES")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("forEach")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("type")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      Sub"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("type"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Super"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("type"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// enable recursive self-lookup")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      Sub"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("components"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Sub\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// keep a reference to the super options at extension time.")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// later at instantiation we can check if Super's options have")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// been updated.")]),s._v("\n    Sub"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("superOptions "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Super"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("options\n    Sub"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("extendOptions "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" extendOptions\n    Sub"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sealedOptions "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("extend")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" Sub"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// cache constructor")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// * 这里将Sub缓存下来，赋值给原来的那个Cid(Sub初始化的时候对原来的cid做了一次+1)")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// * 将组件的构造函数缓存在options._Ctor")]),s._v("\n    cachedCtors"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("SuperId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Sub\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// * 返回组件的构造函数")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" Sub\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// * 这里的目的就是让Sub拥有和Vue一样的能力")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br"),n("span",{staticClass:"line-number"},[s._v("67")]),n("br"),n("span",{staticClass:"line-number"},[s._v("68")]),n("br"),n("span",{staticClass:"line-number"},[s._v("69")]),n("br"),n("span",{staticClass:"line-number"},[s._v("70")]),n("br"),n("span",{staticClass:"line-number"},[s._v("71")]),n("br"),n("span",{staticClass:"line-number"},[s._v("72")]),n("br"),n("span",{staticClass:"line-number"},[s._v("73")]),n("br"),n("span",{staticClass:"line-number"},[s._v("74")]),n("br"),n("span",{staticClass:"line-number"},[s._v("75")]),n("br"),n("span",{staticClass:"line-number"},[s._v("76")]),n("br"),n("span",{staticClass:"line-number"},[s._v("77")]),n("br"),n("span",{staticClass:"line-number"},[s._v("78")]),n("br"),n("span",{staticClass:"line-number"},[s._v("79")]),n("br"),n("span",{staticClass:"line-number"},[s._v("80")]),n("br"),n("span",{staticClass:"line-number"},[s._v("81")]),n("br"),n("span",{staticClass:"line-number"},[s._v("82")]),n("br"),n("span",{staticClass:"line-number"},[s._v("83")]),n("br"),n("span",{staticClass:"line-number"},[s._v("84")]),n("br"),n("span",{staticClass:"line-number"},[s._v("85")]),n("br"),n("span",{staticClass:"line-number"},[s._v("86")]),n("br"),n("span",{staticClass:"line-number"},[s._v("87")]),n("br"),n("span",{staticClass:"line-number"},[s._v("88")]),n("br"),n("span",{staticClass:"line-number"},[s._v("89")]),n("br"),n("span",{staticClass:"line-number"},[s._v("90")]),n("br"),n("span",{staticClass:"line-number"},[s._v("91")]),n("br"),n("span",{staticClass:"line-number"},[s._v("92")]),n("br"),n("span",{staticClass:"line-number"},[s._v("93")]),n("br"),n("span",{staticClass:"line-number"},[s._v("94")]),n("br"),n("span",{staticClass:"line-number"},[s._v("95")]),n("br"),n("span",{staticClass:"line-number"},[s._v("96")]),n("br"),n("span",{staticClass:"line-number"},[s._v("97")]),n("br"),n("span",{staticClass:"line-number"},[s._v("98")]),n("br"),n("span",{staticClass:"line-number"},[s._v("99")]),n("br"),n("span",{staticClass:"line-number"},[s._v("100")]),n("br"),n("span",{staticClass:"line-number"},[s._v("101")]),n("br"),n("span",{staticClass:"line-number"},[s._v("102")]),n("br"),n("span",{staticClass:"line-number"},[s._v("103")]),n("br")])]),n("h3",{attrs:{id:"initassetregisters"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#initassetregisters"}},[s._v("#")]),s._v(" initAssetRegisters")]),s._v(" "),n("p",[s._v("这里主要注册了三个方法, "),n("code",[s._v("component")]),s._v("、"),n("code",[s._v("directive")]),s._v("和"),n("code",[s._v("filter")])]),s._v(" "),n("p",[s._v("这三个方法为什么可以一起注册?")]),s._v(" "),n("p",[s._v("首先他们的参数几乎是一样的, 其次在使用上也差不多, 因此可以统一处理")]),s._v(" "),n("ol",[n("li",[s._v("遍历"),n("code",[s._v("ASSET_TYPES")]),s._v("数组, 注册对应的函数")]),s._v(" "),n("li",[s._v("然后判断是否传递第二个参数, 如果没有传递, 表示获取成员\n"),n("ul",[n("li",[s._v("由于通过三个方法注册的成员, 都会添加到"),n("code",[s._v("Vue.options[`${type}`s]")]),s._v("上, 因此获取对应成员, 直接返回"),n("code",[s._v("Vue.options[`${type}s][id]")]),s._v("即可")])])]),s._v(" "),n("li",[s._v("判断当前的type是不是"),n("code",[s._v("component")]),s._v(", 如果是, 还要判断第二个参数是不是一个对象(非函数的对象)\n"),n("ul",[n("li",[n("code",[s._v("isPlainObject")]),s._v("表示是一个普通对象,判断方式为"),n("code",[s._v("Object.prototype.toString.call(target)")]),s._v("之后是一个"),n("code",[s._v("[object Object]")])])])]),s._v(" "),n("li",[s._v("如果是, 则设置组件的name, 如果当前组件的options下有给name则直接使用, 如果没有就给Vue.component传入的组件名")]),s._v(" "),n("li",[s._v("然后调用"),n("code",[s._v("Vue.options._base.extend(definition)")]),s._v(", 赋值给definition, 将definition转换为一个构造器，extend将会基于Vue初始化一次，增加definition上的配置后返回一个完全继承Vue的构造器")])]),s._v(" "),n("ul",[n("li",[n("code",[s._v("Vue.options._base")]),s._v("前面说过, 就是Vue构造函数, 这里就是调用Vue.extend")]),s._v(" "),n("li",[s._v("因此这里就是将definition制作成一个VueComponent构造函数")]),s._v(" "),n("li",[s._v("所以说如果definition入参就是一个构造函数, 那么这里将不做转换, 直接存储到"),n("code",[s._v("this.options[${type}s][name]")]),s._v("中, 并返回name就是入参的一号参数")])]),s._v(" "),n("ol",{attrs:{start:"6"}},[n("li",[s._v("如果是指令, 有处理方式和component类似\n"),n("ul",[n("li",[s._v("传递的是对象, 则直接存储到"),n("code",[s._v("this.options.directives[name]")]),s._v("中")]),s._v(" "),n("li",[s._v("如果是函数的话, 将会生成一个对象, 有两个成员, 一个是bind一个是update, 表示指令在挂载和更新时, 都会执行回调函数中的内容")])])]),s._v(" "),n("li",[s._v("filter特殊操作, 只能传递函数, 直接存储到"),n("code",[s._v("this.options.filters[name]")]),s._v("中然后返回")])]),s._v(" "),n("p",[s._v("这里也说明了通过 "),n("code",[s._v("component")]),s._v(" "),n("code",[s._v("directive")]),s._v("或者是"),n("code",[s._v("filter")]),s._v("方法注册的内容, 都会挂载到"),n("code",[s._v("Vue.options[types]")]),s._v("中, 作为全局对象存在")]),s._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// * 初始化全局静态属性的时候，将会执行initGlobalAPI, 在这个时候，会执行initAssetRegisters，注册三个全局的函数")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("initAssetRegisters")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("Vue"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" GlobalAPI")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n   * Create asset registration methods.\n   */")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 依然是遍历数组ASSET_TYPES, 这下面就包含了component、directive和filter")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ASSET_TYPES")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("forEach")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("type")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// * 首先将component filter和directive挂载到Vue上")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// * 在这里Vue扩展了三个全局函数， component filter 和 directive")]),s._v("\n    Vue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("type"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("id"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" string"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      definition"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Function "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Object")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Function "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Object "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("definition"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("type "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* istanbul ignore if */")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("process"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("env"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NODE_ENV")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!==")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'production'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" type "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'component'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("validateComponentName")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// * isPlainObject表示是一个普通对象,判断方式为toString()之后是一个[object Object]")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("type "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'component'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("isPlainObject")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("definition"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          definition"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" definition"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" id\n          "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// * 将definition转换为一个构造器，extend将会基于Vue初始化一次，增加definition上的配置后返回一个完全继承Vue的构造器")]),s._v("\n          definition "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("_base"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("extend")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("definition"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("type "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'directive'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("typeof")]),s._v(" definition "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'function'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          definition "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" bind"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" definition"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" update"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" definition "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// * 然后在这里将继承自Vue的构造器————definition返回给全局的Vue的options下面的[type]s的id")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// * 这里的type就是component, filter 和 directive")]),s._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// * 对于组件注册，就是在Vue.options.components上增加了一个id，这个id就是组件的名字(标签名)，他的属性就是继承自Vue的新的构造器————definition")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("type "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" definition\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" definition\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);